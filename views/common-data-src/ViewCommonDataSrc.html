<md-sidenav ng-init="initCtrl()" class="md-sidenav-right slider-r-wrap  "
            md-component-id="right">
    <!-- message -->
    <div>
        <toast></toast>
    </div>
    <md-content class="overflow-none" layout="row">
        <md-button ng-click="toggleLeft()"
                   ng-hide="isOpenLeft()"
                   class="md-primary sidenav-button" layout="row" layout-align="center center">
            <md-icon md-svg-src="{{icon}}"></md-icon>
        </md-button>
        <div class="slider-r-tab">


            <ul class="list-panel icheck-inline">
                <li class=""
                    ng-class="{sliderDisable  :commonUi.selectedIndex != 1,
                    sliderActive: commonUi.selectedIndex==1}"
                    ng-click="commonUi.onClickTab('1')">
                    <span class="tab_icon">
                      <i class="fa fa-database"></i>
                    </span>
                    <span>Source</span>
                </li>

                <li class=""
                    ng-class="{sliderDisable:commonUi.selectedIndex != 2,
                    sliderActive:commonUi.selectedIndex==2}">
                    <span class="tab_icon ">
                      <i class="fa fa-table"></i>
                    </span>
                    <span>Info</span>
                </li>
                <li class=""
                    ng-class="{sliderDisable:commonUi.selectedIndex != 3,
                    sliderActive:commonUi.selectedIndex==3}">
                    <span class="tab_icon ">
                      <i class="fa fa-th-list"></i>
                    </span>
                    <span>Schema</span>
                </li>
            </ul>
        </div>


    </md-content>

    <!--
    Update damith
    UI Select Main Source -->
    <md-content class="overflow-none animate-hide animated" layout="row"
                ng-class="{fadeInRightBig: commonUi.selectedIndex==2,
                fadeInLeft: commonUi.selectedIndex==1}"
                ng-show="commonUi.selectedIndex=='1'">
        <div class="slider-r-source ">
            <!-- refresh all source -->
            <div class="digni-cmds-header-btn">
                <i class="ti-reload"
                   ng-click="commonUi.onRefresh(3)"
                ></i>
            </div>

            <h3 class="graph-h2 font-weight-500 text-center p-t-b-30">
                Data source builder (1/3)
                <small class="text-color-grey-600">
                    what do you want to connect to?
                </small>
            </h3>
            <div layout="row">
                <!-- select data source -->
                <div flex>
                    <div class="digin-cmds-source">
                        <div ng-repeat="source in datasources"
                             class="source-wrap icheck-inline hvr-outline-in "
                             ng-click="commonUi.onClickSelectedSrc(source,datasources)">
                            <img class="source-icon" ng-src="{{source.icon}}"
                                 alt="{{source.name}}">
                            <div class="source-wrap-footer">
                                {{source.name}}
                            </div>
                            <div class="selectedSource"
                                 ng-class="source.selected==true?'selectedSource':'displayNone'">
                                <i class="fa fa-check-circle-o"></i>
                            </div>
                        </div>
                    </div>
                    <!-- file uploader -->
                    <div ng-controller="fileUploaderCtrl" nv-file-drop="" uploader="uploader" filters="queueLimit, customFilter" style="margin-bottom: 30px">

                        <div layout="column" style="padding-left: 16px">
                            <div ng-show="uploader.isHTML5">
                                <!-- 3. nv-file-over uploader="link" over-class="className" -->
                                <div class="well my-drop-zone custom-drop-zone" nv-file-over="" uploader="uploader">
                                    Base drop zone
                                </div>                                
                            </div>

                            <!-- Example: nv-file-select="" uploader="{Object}" options="{Object}" filters="{String}" -->
                            <!-- Multiple
                            <input type="file" nv-file-select="" uploader="uploader" multiple  /><br/> -->
                            <div><input type="file" nv-file-select="" uploader="uploader" /></div>
                        </div>

                        <div layout="column" layout-align="center center" layout-margin>
                            <div ng-repeat="item in uploader.queue">
                                <div><strong>{{ item.file.name }}</strong></div>
                            </div>
                            <!-- <table> -->
                                <!-- <thead>
                                    <tr>
                                        <th width="50%">Name</th>
                                        <th ng-show="uploader.isHTML5">Size</th>
                                        <th ng-show="uploader.isHTML5">Progress</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead> -->
                                <!-- <tbody> -->
                                    <!-- <tr ng-repeat="item in uploader.queue"> -->
                                        <!-- <td><strong>{{ item.file.name }}</strong></td> -->
                                        <!-- <td ng-show="uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td> -->
                                        <!-- <td ng-show="uploader.isHTML5">
                                            <div class="progress" style="margin-bottom: 0;">
                                                <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
                                            </div>
                                        </td> -->
                                        <!-- <td class="text-center">
                                            <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                            <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                            <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                                        </td> -->
                                    <!-- </tr> -->
                                    <!-- <tr>
                                        <td nowrap>
                                            <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                                <span class="glyphicon glyphicon-upload"></span> Upload
                                            </button>
                                            <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
                                                <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                                            </button>
                                            <button type="button" class="btn btn-danger-custom btn-xs" ng-click="item.remove()">
                                                <span class="glyphicon glyphicon-trash"></span> Remove
                                            </button>
                                        </td>
                                    </tr> -->
                                <!-- </tbody> -->
                            <!-- </table> -->

                            <div>
                                <!-- <div>
                                    Queue progress:
                                    <div class="progress" style="">
                                        <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }"></div>
                                    </div>
                                </div> -->
                                <button type="button" class="btn btn-success btn-xs" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">
                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                </button>
                                <button type="button" class="btn btn-warning btn-xs" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading">
                                    <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                                </button>
                                <button type="button" class="btn btn-danger-custom btn-xs" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length">
                                    <span class="glyphicon glyphicon-trash"></span> Remove
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cmds-btn-footer m-top-10">
                        <span class="btn btn-block btn-default"
                              ng-click="commonUi.onClickNext('1')">
                            next
                        </span>
                <span class="btn btn-block btn-default btn-close"
                      ng-click="commonUi.onClickClose()">
                            close
                        </span>
            </div>
        </div>
    </md-content>

    <!--UI Select table info -->
    <md-content class="overflow-none animated " layout="row"
                ng-class="{fadeInRightBig: commonUi.selectedIndex==2,
                fadeInLeft: commonUi.selectedIndex==1}"
                ng-show="commonUi.selectedIndex=='2'">
        <div class="slider-r-source ">
            <h3 class="graph-h2 font-weight-500 text-center p-t-b-30">
                Data source builder (2/3)
                <small class="text-color-grey-600">
                    what do you want to connect to?
                </small>
            </h3>

            <div layout="row">
                <!-- source not found -->
                <div class="digin-cmds-source "
                     ng-show="sourceUi.selectedSource==''">
                    <div class="error-wrap error">
                        <i class="fa fa-database"></i>
                        <span> Source Not Found</span>
                    </div>

                    <div class="cmds-btn-footer">
                        <div class="cmds-btn-footer m-top-10">
                        <span class="btn btn-block btn-default"
                              ng-click="commonUi.onClickBack('2')">
                            back
                        </span>
                        <span class="btn btn-block btn-default btn-close"
                              ng-click="commonUi.onClickClose()">
                                close
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- connection error
                    time out error
                    services error match -->
            <div class="row">
                <div class="digin-cmds-source "
                     ng-show="commonUi.isServiceError==true">
                    <div class="error-wrap error">
                        <i class="fa fa-clock-o"></i>
                        <span> Connection time out</span>
                    </div>

                    <div class="cmds-btn-footer m-top-10">
                        <div class="text-center">
                            <span class="btn btn-default"
                                  ng-click="commonUi.onRefresh(4)">
                                refresh
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- select table data -->
            <div class="digin-cmds-source digin-cmds-info"
                 ng-show="sourceUi.selectedSource!=''">

                <div class="info-wrap">
                    <!-- Is data loading -->
                    <div class="digin-cmds-loading"
                         ng-if="commonUi.isDataLoading"
                         ng-show="sourceUi.selectedSource!=''">
                        <svg class="circular-loader" height="50" width="50">
                            <circle class="path" cx="25" cy="25.2" r="19.9"
                                    fill="none" stroke-width="6" stroke-miterlimit="10"/>
                        </svg>
                    </div>
                    <!-- table data -->
                    <ui ng-repeat="row in sourceUi.tableData track by row.id ">
                        <li class="col-sheet hvr-back-pulse "
                            ng-click="commonUi.onSelectClassRow(row)"
                            ng-class="row.selected==true?'selectedRow':'unSelectedRow'"
                        > {{row.name}}
                            <i class="ti-check pull-right">
                            </i>
                        </li>
                    </ui>
                </div>
            </div>
            <div class="cmds-btn-footer" ng-show="sourceUi.selectedSource!=''"
                 ng-if="commonUi.isServiceError==false">
                <div class="cmds-btn-footer m-top-10">
                        <span class="btn btn-block btn-default"
                              ng-click="commonUi.onClickNext('2')">
                            next
                        </span>
                        <span class="btn btn-block btn-default btn-close"
                              ng-click="commonUi.onClickBack('2')">
                                back
                        </span>
                </div>
            </div>
        </div>
    </md-content>

    <!-- UI select table schema (table filed)-->
    <md-content class="overflow-none animated " layout="row"
                ng-class="{fadeInRightBig: commonUi.selectedIndex==3,
                fadeInLeft: commonUi.selectedIndex==3}"
                ng-show="commonUi.selectedIndex=='3'">
        <div class="slider-r-source ">
            <h3 class="graph-h2 font-weight-500 text-center p-t-15">
                Data source builder (3/3)
                <small class="text-color-grey-600">
                    what do you want to connect to?
                </small>
            </h3>

            <div layout="row">
                <!-- source not found -->
                <div class="digin-cmds-source "
                     ng-show="sourceUi.selectedNameSpace==''">
                    <div class="error-wrap error">
                        <i class="fa fa-table"></i>
                        <span> Table Not Found</span>
                    </div>

                    <div class="cmds-btn-footer">
                        <div class="cmds-btn-footer m-top-10">
                        <span class="btn btn-block btn-default"
                              ng-click="commonUi.onClickBack('3')">
                            back
                        </span>
                        <span class="btn btn-block btn-default btn-close"
                              ng-click="commonUi.onClickClose()">
                                close
                            </span>
                        </div>
                    </div>
                </div>
                <!-- search data-->
            </div>
            <div class="digin-cmds-source-2 digin-cmds-scheme"
                 ng-show="sourceUi.selectedNameSpace!=''">
                <!-- Is data loading -->
                <div class="digin-cmds-loading"
                     ng-if="commonUi.isDataLoading"
                     ng-show="sourceUi.selectedSource!=''">
                    <svg class="circular-loader" height="50" width="50">
                        <circle class="path" cx="25" cy="25.2" r="19.9"
                                fill="none" stroke-width="6" stroke-miterlimit="10"/>
                    </svg>
                </div>
                <!-- filed data -->
                <div class="row">
                    <div class="sub-header">
                        <span>Attribute</span>
                    </div>
                    <div class="digin-cmds-attribute">
                        <div class="digin-cmds-attr-error"
                             ng-show="sourceUi.selectedAttribute==''">
                            <i class="fa fa-refresh"
                               id="refAttribute"
                               ng-class="commonUi.isRefAttribute==true?'fa-spin':''"
                               ng-click="commonUi.onRefresh(1)"
                            ></i>
                            <span>Attribute Not Found</span>
                        </div>

                        <ui ng-repeat="row in sourceUi.selectedAttribute ">
                            <li class="col-sheet-attr hvr-fade"
                                ng-click="commonUi.onRemoveAtt(sourceUi.selectedAttribute,row)"
                                ng-class="row.isRemove==true?'displayNone':'displayInlineBlock'"
                            > {{row.name}}
                            </li>
                        </ui>
                    </div>
                </div>

                <div class="row">
                    <div class="sub-header">
                        <span>Measures</span>
                    </div>
                    <div class="digin-cmds-measures ">
                        <div class="digin-cmds-attr-error"
                             ng-show="sourceUi.selectedMeasures==''">
                            <i class="fa fa-refresh"
                               id="refMeasures"
                               ng-class="commonUi.isRefMeasures==true?'fa-spin':''"
                               ng-click="commonUi.onRefresh(2)"
                            ></i>
                            <span>Measures Not Found</span>
                        </div>

                        <ui ng-repeat="row in sourceUi.selectedMeasures ">
                            <li class="col-sheet-attr hvr-fade "
                                ng-click="commonUi.onRemoveMeasures(sourceUi.selectedMeasures ,row)"
                                ng-class="row.isRemove==true?'displayNone':'displayInlineBlock'"
                            > {{row.name}}
                            </li>
                        </ui>
                    </div>
                </div>
            </div>

            <div class="cmds-btn-footer" ng-show="sourceUi.selectedNameSpace!=''">
                <div class="cmds-btn-footer m-top-10">
                        <span class="btn btn-block btn-default"
                              ng-click="commonUi.onSaveSource()">
                            save
                        </span>
                        <span class="btn btn-block btn-default btn-close"
                              ng-click="commonUi.onClickBack('3')">
                                back
                        </span>
                </div>
            </div>
        </div>

    </md-content>

</md-sidenav>
